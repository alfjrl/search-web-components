/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
let t=class extends Event{constructor(t,s,e){super("context-request",{bubbles:!0,composed:!0}),this.context=t,this.callback=s,this.subscribe=e??!1}};
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
let s=class{constructor(t,s,e,i){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(t,s)=>{this.unsubscribe&&(this.unsubscribe!==s&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=t,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(t,s)),this.unsubscribe=s},this.host=t,void 0!==s.context){const t=s;this.context=t.context,this.callback=t.callback,this.subscribe=t.subscribe??!1}else this.context=s,this.callback=e,this.subscribe=i??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new t(this.context,this.t,this.subscribe))}},e=class{get value(){return this.o}set value(t){this.setValue(t)}setValue(t,s=!1){const e=s||!Object.is(t,this.o);this.o=t,e&&this.updateObservers()}constructor(t){this.subscriptions=new Map,this.updateObservers=()=>{for(const[t,{disposer:s}]of this.subscriptions)t(this.o,s)},void 0!==t&&(this.value=t)}addCallback(t,s,e){if(!e)return void t(this.value);this.subscriptions.has(t)||this.subscriptions.set(t,{disposer:()=>{this.subscriptions.delete(t)},consumerHost:s});const{disposer:i}=this.subscriptions.get(t);t(this.value,i)}clearCallbacks(){this.subscriptions.clear()}},i=class extends Event{constructor(t){super("context-provider",{bubbles:!0,composed:!0}),this.context=t}},n=class extends e{constructor(s,e,i){super(void 0!==e.context?e.initialValue:i),this.onContextRequest=t=>{const s=t.composedPath()[0];t.context===this.context&&s!==this.host&&(t.stopPropagation(),this.addCallback(t.callback,s,t.subscribe))},this.onProviderRequest=s=>{const e=s.composedPath()[0];if(s.context!==this.context||e===this.host)return;const i=new Set;for(const[s,{consumerHost:e}]of this.subscriptions)i.has(s)||(i.add(s),e.dispatchEvent(new t(this.context,s,!0)));s.stopPropagation()},this.host=s,void 0!==e.context?this.context=e.context:this.context=e,this.attachListeners(),this.host.addController?.(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new i(this.context))}},h=class{constructor(){this.pendingContextRequests=new Map,this.onContextProvider=s=>{const e=this.pendingContextRequests.get(s.context);if(void 0===e)return;this.pendingContextRequests.delete(s.context);const{requests:i}=e;for(const{elementRef:e,callbackRef:n}of i){const i=e.deref(),h=n.deref();void 0===i||void 0===h||i.dispatchEvent(new t(s.context,h,!0))}},this.onContextRequest=t=>{if(!0!==t.subscribe)return;const s=t.composedPath()[0],e=t.callback;let i=this.pendingContextRequests.get(t.context);void 0===i&&this.pendingContextRequests.set(t.context,i={callbacks:new WeakMap,requests:[]});let n=i.callbacks.get(s);void 0===n&&i.callbacks.set(s,n=new WeakSet),n.has(e)||(n.add(e),i.requests.push({elementRef:new WeakRef(s),callbackRef:new WeakRef(e)}))}}attach(t){t.addEventListener("context-request",this.onContextRequest),t.addEventListener("context-provider",this.onContextProvider)}detach(t){t.removeEventListener("context-request",this.onContextRequest),t.removeEventListener("context-provider",this.onContextProvider)}};
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const r=Symbol("search-context"),o=t=>(s,e)=>{void 0!==e?e.addInitializer((()=>{customElements.define(t,s)})):customElements.define(t,s)}
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,l=globalThis,a=l.ShadowRoot&&(void 0===l.ShadyCSS||l.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,c=Symbol(),u=new WeakMap;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let d=class{constructor(t,s,e){if(this._$cssResult$=!0,e!==c)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=s}get styleSheet(){let t=this.o;const s=this.t;if(a&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=u.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&u.set(s,t))}return t}toString(){return this.cssText}};const p=a?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let s="";for(const e of t.cssRules)s+=e.cssText;return(t=>new d("string"==typeof t?t:t+"",void 0,c))(s)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,{is:b,defineProperty:f,getOwnPropertyDescriptor:v,getOwnPropertyNames:$,getOwnPropertySymbols:m,getPrototypeOf:g}=Object,y=globalThis,w=y.trustedTypes,S=w?w.emptyScript:"",O=y.reactiveElementPolyfillSupport,x=(t,s)=>t,_={toAttribute(t,s){switch(s){case Boolean:t=t?S:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let e=t;switch(s){case Boolean:e=null!==t;break;case Number:e=null===t?null:Number(t);break;case Object:case Array:try{e=JSON.parse(t)}catch(t){e=null}}return e}},k=(t,s)=>!b(t,s),L={attribute:!0,type:String,converter:_,reflect:!1,hasChanged:k};Symbol.metadata??=Symbol("metadata"),y.litPropertyMetadata??=new WeakMap;class R extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=L){if(s.state&&(s.attribute=!1),this._$Ei(),this.elementProperties.set(t,s),!s.noAccessor){const e=Symbol(),i=this.getPropertyDescriptor(t,e,s);void 0!==i&&f(this.prototype,t,i)}}static getPropertyDescriptor(t,s,e){const{get:i,set:n}=v(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get(){return i?.call(this)},set(s){const h=i?.call(this);n.call(this,s),this.requestUpdate(t,h,e)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??L}static _$Ei(){if(this.hasOwnProperty(x("elementProperties")))return;const t=g(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(x("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(x("properties"))){const t=this.properties,s=[...$(t),...m(t)];for(const e of s)this.createProperty(e,t[e])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,e]of s)this.elementProperties.set(t,e)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const e=this._$Eu(t,s);void 0!==e&&this._$Eh.set(e,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const s=[];if(Array.isArray(t)){const e=new Set(t.flat(1/0).reverse());for(const t of e)s.unshift(p(t))}else void 0!==t&&s.push(p(t));return s}static _$Eu(t,s){const e=s.attribute;return!1===e?void 0:"string"==typeof e?e:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const e of s.keys())this.hasOwnProperty(e)&&(t.set(e,this[e]),delete this[e]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((t,s)=>{if(a)t.adoptedStyleSheets=s.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of s){const s=document.createElement("style"),i=l.litNonce;void 0!==i&&s.setAttribute("nonce",i),s.textContent=e.cssText,t.appendChild(s)}})(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,e){this._$AK(t,e)}_$EC(t,s){const e=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,e);if(void 0!==i&&!0===e.reflect){const n=(void 0!==e.converter?.toAttribute?e.converter:_).toAttribute(s,e.type);this._$Em=t,null==n?this.removeAttribute(i):this.setAttribute(i,n),this._$Em=null}}_$AK(t,s){const e=this.constructor,i=e._$Eh.get(t);if(void 0!==i&&this._$Em!==i){const t=e.getPropertyOptions(i),n="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:_;this._$Em=i,this[i]=n.fromAttribute(s,t.type),this._$Em=null}}requestUpdate(t,s,e){if(void 0!==t){if(e??=this.constructor.getPropertyOptions(t),!(e.hasChanged??k)(this[t],s))return;this.P(t,s,e)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,s,e){this._$AL.has(t)||this._$AL.set(t,s),!0===e.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,e]of t)!0!==e.wrapped||this._$AL.has(s)||void 0===this[s]||this.P(s,this[s],e)}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EU()}catch(s){throw t=!1,this._$EU(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}}R.elementStyles=[],R.shadowRootOptions={mode:"open"},R[x("elementProperties")]=new Map,R[x("finalized")]=new Map,O?.({ReactiveElement:R}),(y.reactiveElementVersions??=[]).push("2.0.4");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const j={attribute:!0,type:String,converter:_,reflect:!1,hasChanged:k},P=(t=j,s,e)=>{const{kind:i,metadata:n}=e;let h=globalThis.litPropertyMetadata.get(n);if(void 0===h&&globalThis.litPropertyMetadata.set(n,h=new Map),h.set(e.name,t),"accessor"===i){const{name:i}=e;return{set(e){const n=s.get.call(this);s.set.call(this,e),this.requestUpdate(i,n,t)},init(s){return void 0!==s&&this.P(i,void 0,t),s}}}if("setter"===i){const{name:i}=e;return function(e){const n=this[i];s.call(this,e),this.requestUpdate(i,n,t)}}throw Error("Unsupported decorator location: "+i)};function E(t){return(s,e)=>"object"==typeof e?P(t,s,e):((t,s,e)=>{const i=s.hasOwnProperty(e);return s.constructor.createProperty(e,i?{...t,wrapped:!0}:t),i?Object.getOwnPropertyDescriptor(s,e):void 0})(t,s,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}function C(t){return E({...t,state:!0,attribute:!1})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const A=globalThis,T=A.trustedTypes,U=T?T.createPolicy("lit-html",{createHTML:t=>t}):void 0,M="$lit$",q=`lit$${Math.random().toFixed(9).slice(2)}$`,D="?"+q,B=`<${D}>`,H=document,N=()=>H.createComment(""),F=t=>null===t||"object"!=typeof t&&"function"!=typeof t,I=Array.isArray,W="[ \t\n\f\r]",z=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,K=/-->/g,V=/>/g,G=RegExp(`>|${W}(?:([^\\s"'>=/]+)(${W}*=${W}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),J=/'/g,Z=/"/g,Q=/^(?:script|style|textarea|title)$/i,X=(t=>(s,...e)=>({_$litType$:t,strings:s,values:e}))(1),Y=Symbol.for("lit-noChange"),tt=Symbol.for("lit-nothing"),st=new WeakMap,et=H.createTreeWalker(H,129);function it(t,s){if(!I(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==U?U.createHTML(s):s}class nt{constructor({strings:t,_$litType$:s},e){let i;this.parts=[];let n=0,h=0;const r=t.length-1,o=this.parts,[l,a]=((t,s)=>{const e=t.length-1,i=[];let n,h=2===s?"<svg>":3===s?"<math>":"",r=z;for(let s=0;s<e;s++){const e=t[s];let o,l,a=-1,c=0;for(;c<e.length&&(r.lastIndex=c,l=r.exec(e),null!==l);)c=r.lastIndex,r===z?"!--"===l[1]?r=K:void 0!==l[1]?r=V:void 0!==l[2]?(Q.test(l[2])&&(n=RegExp("</"+l[2],"g")),r=G):void 0!==l[3]&&(r=G):r===G?">"===l[0]?(r=n??z,a=-1):void 0===l[1]?a=-2:(a=r.lastIndex-l[2].length,o=l[1],r=void 0===l[3]?G:'"'===l[3]?Z:J):r===Z||r===J?r=G:r===K||r===V?r=z:(r=G,n=void 0);const u=r===G&&t[s+1].startsWith("/>")?" ":"";h+=r===z?e+B:a>=0?(i.push(o),e.slice(0,a)+M+e.slice(a)+q+u):e+q+(-2===a?s:u)}return[it(t,h+(t[e]||"<?>")+(2===s?"</svg>":3===s?"</math>":"")),i]})(t,s);if(this.el=nt.createElement(l,e),et.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(i=et.nextNode())&&o.length<r;){if(1===i.nodeType){if(i.hasAttributes())for(const t of i.getAttributeNames())if(t.endsWith(M)){const s=a[h++],e=i.getAttribute(t).split(q),r=/([.?@])?(.*)/.exec(s);o.push({type:1,index:n,name:r[2],strings:e,ctor:"."===r[1]?at:"?"===r[1]?ct:"@"===r[1]?ut:lt}),i.removeAttribute(t)}else t.startsWith(q)&&(o.push({type:6,index:n}),i.removeAttribute(t));if(Q.test(i.tagName)){const t=i.textContent.split(q),s=t.length-1;if(s>0){i.textContent=T?T.emptyScript:"";for(let e=0;e<s;e++)i.append(t[e],N()),et.nextNode(),o.push({type:2,index:++n});i.append(t[s],N())}}}else if(8===i.nodeType)if(i.data===D)o.push({type:2,index:n});else{let t=-1;for(;-1!==(t=i.data.indexOf(q,t+1));)o.push({type:7,index:n}),t+=q.length-1}n++}}static createElement(t,s){const e=H.createElement("template");return e.innerHTML=t,e}}function ht(t,s,e=t,i){if(s===Y)return s;let n=void 0!==i?e.o?.[i]:e.l;const h=F(s)?void 0:s._$litDirective$;return n?.constructor!==h&&(n?._$AO?.(!1),void 0===h?n=void 0:(n=new h(t),n._$AT(t,e,i)),void 0!==i?(e.o??=[])[i]=n:e.l=n),void 0!==n&&(s=ht(t,n._$AS(t,s.values),n,i)),s}class rt{constructor(t,s){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=s}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:s},parts:e}=this._$AD,i=(t?.creationScope??H).importNode(s,!0);et.currentNode=i;let n=et.nextNode(),h=0,r=0,o=e[0];for(;void 0!==o;){if(h===o.index){let s;2===o.type?s=new ot(n,n.nextSibling,this,t):1===o.type?s=new o.ctor(n,o.name,o.strings,this,t):6===o.type&&(s=new dt(n,this,t)),this._$AV.push(s),o=e[++r]}h!==o?.index&&(n=et.nextNode(),h++)}return et.currentNode=H,i}p(t){let s=0;for(const e of this._$AV)void 0!==e&&(void 0!==e.strings?(e._$AI(t,e,s),s+=e.strings.length-2):e._$AI(t[s])),s++}}let ot=class t{get _$AU(){return this._$AM?._$AU??this.v}constructor(t,s,e,i){this.type=2,this._$AH=tt,this._$AN=void 0,this._$AA=t,this._$AB=s,this._$AM=e,this.options=i,this.v=i?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const s=this._$AM;return void 0!==s&&11===t?.nodeType&&(t=s.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,s=this){t=ht(this,t,s),F(t)?t===tt||null==t||""===t?(this._$AH!==tt&&this._$AR(),this._$AH=tt):t!==this._$AH&&t!==Y&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):(t=>I(t)||"function"==typeof t?.[Symbol.iterator])(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==tt&&F(this._$AH)?this._$AA.nextSibling.data=t:this.T(H.createTextNode(t)),this._$AH=t}$(t){const{values:s,_$litType$:e}=t,i="number"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=nt.createElement(it(e.h,e.h[0]),this.options)),e);if(this._$AH?._$AD===i)this._$AH.p(s);else{const t=new rt(i,this),e=t.u(this.options);t.p(s),this.T(e),this._$AH=t}}_$AC(t){let s=st.get(t.strings);return void 0===s&&st.set(t.strings,s=new nt(t)),s}k(s){I(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,n=0;for(const h of s)n===e.length?e.push(i=new t(this.O(N()),this.O(N()),this,this.options)):i=e[n],i._$AI(h),n++;n<e.length&&(this._$AR(i&&i._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,s){for(this._$AP?.(!1,!0,s);t&&t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){void 0===this._$AM&&(this.v=t,this._$AP?.(t))}};class lt{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,s,e,i,n){this.type=1,this._$AH=tt,this._$AN=void 0,this.element=t,this.name=s,this._$AM=i,this.options=n,e.length>2||""!==e[0]||""!==e[1]?(this._$AH=Array(e.length-1).fill(new String),this.strings=e):this._$AH=tt}_$AI(t,s=this,e,i){const n=this.strings;let h=!1;if(void 0===n)t=ht(this,t,s,0),h=!F(t)||t!==this._$AH&&t!==Y,h&&(this._$AH=t);else{const i=t;let r,o;for(t=n[0],r=0;r<n.length-1;r++)o=ht(this,i[e+r],s,r),o===Y&&(o=this._$AH[r]),h||=!F(o)||o!==this._$AH[r],o===tt?t=tt:t!==tt&&(t+=(o??"")+n[r+1]),this._$AH[r]=o}h&&!i&&this.j(t)}j(t){t===tt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class at extends lt{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===tt?void 0:t}}class ct extends lt{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==tt)}}class ut extends lt{constructor(t,s,e,i,n){super(t,s,e,i,n),this.type=5}_$AI(t,s=this){if((t=ht(this,t,s,0)??tt)===Y)return;const e=this._$AH,i=t===tt&&e!==tt||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==tt&&(e===tt||i);i&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class dt{constructor(t,s,e){this.element=t,this.type=6,this._$AN=void 0,this._$AM=s,this.options=e}get _$AU(){return this._$AM._$AU}_$AI(t){ht(this,t)}}const pt={I:ot},bt=A.litHtmlPolyfillSupport;bt?.(nt,ot),(A.litHtmlVersions??=[]).push("3.2.0");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class ft extends R{constructor(){super(...arguments),this.renderOptions={host:this},this.o=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const s=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this.o=((t,s,e)=>{const i=e?.renderBefore??s;let n=i._$litPart$;if(void 0===n){const t=e?.renderBefore??null;i._$litPart$=n=new ot(s.insertBefore(N(),t),t,void 0,e??{})}return n._$AI(t),n})(s,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this.o?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this.o?.setConnected(!1)}render(){return Y}}ft._$litElement$=!0,ft.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:ft});const vt=globalThis.litElementPolyfillSupport;vt?.({LitElement:ft}),(globalThis.litElementVersions??=[]).push("4.1.0");var $t=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};class mt extends ft{constructor(){super(...arguments),this.uid=this.genUniqId()}createRenderRoot(){return this.style.display="block",this}updateContext(t){const s=new CustomEvent("update-context",{bubbles:!0,composed:!0});s.context=t,this.dispatchEvent(s)}applyFacet(t,s,e=!1){const i=new URLSearchParams(this.context?.query?.toString()),n=`f[${t}]`;e&&i.delete(n),i.getAll(n).includes(s)?i.delete(n,s):i.append(n,s),i.delete("page"),this.getResults(i)}clearFacet(t){const s=new URLSearchParams(this.context?.query?.toString()),e=`f[${t}]`;s.delete(e),s.delete("page"),this.getResults(s)}clearFacets(){const t=new URLSearchParams(this.context?.query?.toString()),s=[];t.forEach(((t,e)=>{e.startsWith("f[")&&s.push(e)})),s.forEach((s=>t.delete(s))),t.has("page")&&t.delete("page"),this.getResults(t)}async getResults(t){new URL(window.location.href).search=t.toString();const s={...this.context};s.query=t;let e=t;this.context?.additionalParams&&(e=new URLSearchParams(new URLSearchParams(this.context.additionalParams).toString()+"&"+t.toString())),[s.response]=await Promise.all([mt.doSearch(s.url??"",e)]),this.context={...s},this.updateContext(s)}static async doSearch(t,s){const e=new URLSearchParams(s.toString());let i=0;for(const[t,n]of s.entries()){if(!t.startsWith("f["))continue;e.delete(t);let s=t.replace("f[","");s=s.substring(0,s.length-1),e.append(`f[${i}]`,`${s}:${n}`),i++}const n=new URL(t);return n.search=e.toString(),mt.doFetch(n,void 0).then((t=>t))}static async doFetch(t,s=void 0){const e=new Headers(s);return fetch(t,{headers:e,cache:"no-store"}).then((async t=>{const s=await t.text();if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}. Message:${s}`);return Promise.resolve(JSON.parse(s))})).catch((t=>console.error("Error in fetching:",t)))}safeIdentifier(t){return t.replace(/\W/g,"-")}genUniqId(t=""){return(t?`${t}-`:"")+Math.random().toString(36).slice(2,9)}}$t([
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function({context:t,subscribe:e}){return(i,n)=>{"object"==typeof n?n.addInitializer((function(){new s(this,{context:t,callback:t=>{this[n.name]=t},subscribe:e})})):i.constructor.addInitializer((i=>{new s(i,{context:t,callback:t=>{i[n]=t},subscribe:e})}))}}({context:r,subscribe:!0}),E({attribute:!1})],mt.prototype,"context",void 0),$t([C()],mt.prototype,"uid",void 0);var gt=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let yt=class extends ft{constructor(){super(...arguments),this.context={url:"",query:new URLSearchParams(window.location.search),responseReady:!1,defaultPerPage:"10",updateUrl:!0,resultDisplay:"list",additionalParams:"",dialogOpen:!1,dialogBreakpoint:0,thirdPartySettings:{}},this.url="",this.additionalParams="",this.defaultPerPage="10",this.defaultResultDisplay="list",this.noPageUrlUpdate=!1,this.dialogBreakpoint=-1,this.root=new h}createRenderRoot(){return this.style.display="block",this}async connectedCallback(){super.connectedCallback();const t={...this.context};let s;if(this.url){const[e,i]=this.url.split("?");e.startsWith("/")?t.url=new URL(e,document.baseURI).href:t.url=e,i&&(s=new URLSearchParams(i))}if(t.defaultPerPage=this.defaultPerPage,t.resultDisplay=this.defaultResultDisplay,t.dialogBreakpoint=this.dialogBreakpoint,this.noPageUrlUpdate&&(t.updateUrl=!1),t.query&&!this.noPageUrlUpdate||(t.query=new URLSearchParams),s){let e=!0;const i=["q","page","limit","sort","order"];t.query.forEach(((t,s)=>{(i.includes(s)&&""!==t||s.startsWith("f["))&&(e=!1)})),(0===t.query.size||e)&&(t.query=s,this.context.query=s)}t.additionalParams=this.additionalParams;let e=t.query;this.additionalParams&&(e=new URLSearchParams(new URLSearchParams(this.additionalParams).toString()+"&"+e.toString())),t.response=await mt.doSearch(t.url??"",e),t.responseReady=!0,this.context=t,this.addEventListener("update-context",(t=>{this.context={...this.context,...t.context}}))}};gt([
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function({context:t}){return(s,e)=>{const i=new WeakMap;if("object"==typeof e)return e.addInitializer((function(){i.set(this,new n(this,{context:t}))})),{get(){return s.get.call(this)},set(t){return i.get(this)?.setValue(t),s.set.call(this,t)},init(t){return i.get(this)?.setValue(t),t}};{s.constructor.addInitializer((s=>{i.set(s,new n(s,{context:t}))}));const h=Object.getOwnPropertyDescriptor(s,e);let r;if(void 0===h){const t=new WeakMap;r={get:function(){return t.get(this)},set:function(s){i.get(this).setValue(s),t.set(this,s)},configurable:!0,enumerable:!0}}else{const t=h.set;r={...h,set:function(s){i.get(this).setValue(s),t?.call(this,s)}}}return void Object.defineProperty(s,e,r)}}}({context:r}),C()],yt.prototype,"context",void 0),gt([E()],yt.prototype,"url",void 0),gt([E()],yt.prototype,"additionalParams",void 0),gt([E()],yt.prototype,"defaultPerPage",void 0),gt([E()],yt.prototype,"defaultResultDisplay",void 0),gt([E({type:Boolean})],yt.prototype,"noPageUrlUpdate",void 0),gt([E({type:Number})],yt.prototype,"dialogBreakpoint",void 0),yt=gt([o("search-root")],yt);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const wt=2,St=t=>(...s)=>({_$litDirective$:t,values:s});class Ot{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,s,e){this.t=t,this._$AM=s,this.i=e}_$AS(t,s){return this.update(t,s)}update(t,s){return this.render(...s)}}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:xt}=pt,_t=()=>document.createComment(""),kt=(t,s,e)=>{const i=t._$AA.parentNode,n=void 0===s?t._$AB:s._$AA;if(void 0===e){const s=i.insertBefore(_t(),n),h=i.insertBefore(_t(),n);e=new xt(s,h,t,t.options)}else{const s=e._$AB.nextSibling,h=e._$AM,r=h!==t;if(r){let s;e._$AQ?.(t),e._$AM=t,void 0!==e._$AP&&(s=t._$AU)!==h._$AU&&e._$AP(s)}if(s!==n||r){let t=e._$AA;for(;t!==s;){const s=t.nextSibling;i.insertBefore(t,n),t=s}}}return e},Lt=(t,s,e=t)=>(t._$AI(s,e),t),Rt={},jt=t=>{t._$AP?.(!1,!0);let s=t._$AA;const e=t._$AB.nextSibling;for(;s!==e;){const t=s.nextSibling;s.remove(),s=t}},Pt=(t,s,e)=>{const i=new Map;for(let n=s;n<=e;n++)i.set(t[n],n);return i},Et=St(class extends Ot{constructor(t){if(super(t),t.type!==wt)throw Error("repeat() can only be used in text expressions")}dt(t,s,e){let i;void 0===e?e=s:void 0!==s&&(i=s);const n=[],h=[];let r=0;for(const s of t)n[r]=i?i(s,r):r,h[r]=e(s,r),r++;return{values:h,keys:n}}render(t,s,e){return this.dt(t,s,e).values}update(t,[s,e,i]){const n=(t=>t._$AH)(t),{values:h,keys:r}=this.dt(s,e,i);if(!Array.isArray(n))return this.ut=r,h;const o=this.ut??=[],l=[];let a,c,u=0,d=n.length-1,p=0,b=h.length-1;for(;u<=d&&p<=b;)if(null===n[u])u++;else if(null===n[d])d--;else if(o[u]===r[p])l[p]=Lt(n[u],h[p]),u++,p++;else if(o[d]===r[b])l[b]=Lt(n[d],h[b]),d--,b--;else if(o[u]===r[b])l[b]=Lt(n[u],h[b]),kt(t,l[b+1],n[u]),u++,b--;else if(o[d]===r[p])l[p]=Lt(n[d],h[p]),kt(t,n[u],n[d]),d--,p++;else if(void 0===a&&(a=Pt(r,p,b),c=Pt(o,u,d)),a.has(o[u]))if(a.has(o[d])){const s=c.get(r[p]),e=void 0!==s?n[s]:null;if(null===e){const s=kt(t,n[u]);Lt(s,h[p]),l[p]=s}else l[p]=Lt(e,h[p]),kt(t,n[u],e),n[s]=null;p++}else jt(n[d]),d--;else jt(n[u]),u++;for(;p<=b;){const s=kt(t,l[b+1]);Lt(s,h[p]),l[p++]=s}for(;u<=d;){const t=n[u++];null!==t&&jt(t)}return this.ut=r,((t,s=Rt)=>{t._$AH=s})(t,l),Y}});
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ct=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};class At extends mt{constructor(){super(...arguments),this.key="",this.overrideLabel="",this.showLabel=!1,this.showCount=!1,this.showReset=!1,this.resetText="Reset (@count)",this.collapsible=!1,this.closed=!1,this.showCountInCollapseLabel=!1,this.preferAttributes=!1,this.urlAlias="",this.optionsOpen=!0,this.facetConfigLoaded=!1,this.showMoreOpen=!1}connectedCallback(){super.connectedCallback(),this.optionsOpen=!this.closed}updated(t){if(this.facetConfigLoaded||!this.context?.responseReady)return;const s=this._getFacetData();s&&(this.urlAlias=s.settings.url_alias,this.showLabel=this._configOrAttribute(s.settings.show_title,this.showLabel),this.showCount=this._configOrAttribute(s.settings.widget.show_numbers,this.showCount),this.showReset=this._configOrAttribute(s.settings.widget.showReset,this.showReset),this.resetText=this._configOrAttribute(s.settings.widget.resetText,this.resetText),this.collapsible=this._configOrAttribute(s.settings.widget.collapsible,this.collapsible),this.closed=this._configOrAttribute(s.settings.widget.closed,this.closed),this.optionsOpen=this._configOrAttribute(!s.settings.widget.closed,!this.closed),this.showCountInCollapseLabel=this._configOrAttribute(s.settings.widget.showCountInCollapseLabel,this.showCountInCollapseLabel),this.softLimit=this._configOrAttribute(Number(s?.settings.widget?.soft_limit?.limit),this.softLimit),this.softLimitLessLabel=this._configOrAttribute(s?.settings.widget?.soft_limit?.less_label,this.softLimitLessLabel),this.softLimitMoreLabel=this._configOrAttribute(s?.settings.widget?.soft_limit?.more_label,this.softLimitMoreLabel),this.facetConfigLoaded=!0)}_configOrAttribute(t,s){return this.preferAttributes?s:!("boolean"!=typeof s||!t&&!s)||(void 0!==t?t:s)}_getOptionId(t){const s=t.replace(/\W/g,"-");return`option-${this.uid}-${s}`}_getFacetData(){return this.context?.response?.facets.find((t=>t.key===this.key))}_getLabelElement(){const t=this._getFacetData(),s=this.overrideLabel?this.overrideLabel:t.label;return X`<div class="facet-label ${t.key}">${s}</div>`}_getCollapsibleLabelElement(){const t=this._getFacetData(),s=this.overrideLabel?this.overrideLabel:t.label;return X`<button
      aria-expanded="${this.optionsOpen}"
      class="facet-label ${t.key} ${this.optionsOpen?"open":"closed"}"
      @click=${()=>this.optionsOpen=!this.optionsOpen}
      aria-controls="${"facet-collapse-"+this.uid}"
    >
      ${s}${this.showCountInCollapseLabel&&t.active_values?.length?`(${t.active_values.length})`:null}
    </button>`}_getSoftLimitElement(){const t=this._getFacetData();return!this.softLimit||t.results.length<=this.softLimit?X``:X`<button
      aria-expanded="${this.showMoreOpen}"
      class="facet-show-more ${t.key} ${this.showMoreOpen?"open":"closed"}"
      @click=${()=>this.showMoreOpen=!this.showMoreOpen}
      aria-controls="${"facet-options-collapse-"+this.uid}"
    >
      ${this.showMoreOpen?this.softLimitLessLabel:this.softLimitMoreLabel}
    </button>`}wrapCollapsible(t,s){return X`
      ${t}
      <div
        id="${"facet-collapse-"+this.uid}"
        class="facet-options ${this.optionsOpen?"open":"closed"}"
      >
        ${this.optionsOpen?s:null}
      </div>
    `}_getResetElement(){const t=this._getFacetData();return this.showReset&&t.active_values&&0!==t.active_values.length?X`<button
      class="${this.key} facet reset"
      @click="${()=>this.clearFacet(this.urlAlias)}"
    >
      ${this.resetText.replaceAll("@count",""+t.active_values.length)}
    </button>`:X``}shouldRender(){return!(!this.context?.response||void 0===this._getFacetData()||0===this._getFacetData().count)}render(){this.classList.add(this.safeIdentifier(this.key));const t=this._getFacetData();t&&t.count?this.classList.add("has-options"):this.classList.remove("has-options"),t&&t.active_values&&t.active_values.length>0?this.classList.add("is-active"):this.classList.remove("is-active"),this.collapsible&&!this.optionsOpen?this.classList.add("collapsed"):this.classList.remove("collapsed")}}Ct([E()],At.prototype,"key",void 0),Ct([E()],At.prototype,"overrideLabel",void 0),Ct([E({type:Boolean})],At.prototype,"showLabel",void 0),Ct([E({type:Boolean})],At.prototype,"showCount",void 0),Ct([E({type:Boolean})],At.prototype,"showReset",void 0),Ct([E()],At.prototype,"resetText",void 0),Ct([E({type:Boolean})],At.prototype,"collapsible",void 0),Ct([E({type:Boolean})],At.prototype,"closed",void 0),Ct([E({type:Boolean})],At.prototype,"showCountInCollapseLabel",void 0),Ct([E({type:Boolean})],At.prototype,"preferAttributes",void 0),Ct([E({attribute:!1})],At.prototype,"urlAlias",void 0),Ct([E({type:Number})],At.prototype,"softLimit",void 0),Ct([E()],At.prototype,"softLimitLessLabel",void 0),Ct([E()],At.prototype,"softLimitMoreLabel",void 0),Ct([C()],At.prototype,"optionsOpen",void 0),Ct([C()],At.prototype,"facetConfigLoaded",void 0),Ct([C()],At.prototype,"facet",void 0),Ct([C()],At.prototype,"showMoreOpen",void 0);var Tt=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let Ut=class extends At{_getOptions(t=void 0){const s=this._getFacetData();let e=t??s.results;return void 0===t&&this.softLimit&&0!==this.softLimit&&!this.showMoreOpen&&(e=e.slice(0,this.softLimit)),X`
      <ul>
        ${Et(e,(t=>t.key),(t=>{const s=["facet","button"];return t.active&&s.push("active"),t.in_active_trail&&s.push("active-trail"),t.children.length>0&&(s.push("has-children"),t.children_expanded?s.push("children-expanded"):s.push("children-hidden")),X`
              <li class="${s.join(" ")}">
                <button
                  class="${this.key}"
                  type="button"
                  name="${t.key}"
                  value="${t.key}"
                  aria-pressed="${t.active??!1}"
                  @click=${()=>this.applyFacet(this.urlAlias,t.key)}
                >${t.label}${this.showCount?` (${t.count})`:null}
              </li>
            `}))}
      </ul>
    `}render(){return super.render(),this.shouldRender()?this.collapsible?this.wrapCollapsible(this._getCollapsibleLabelElement(),X`${this._getOptions()} ${this._getSoftLimitElement()}
        ${this._getResetElement()}`):X`
      ${this.showLabel?this._getLabelElement():null} ${this._getOptions()}
      ${this._getSoftLimitElement()} ${this._getResetElement()}
    `:null}};Ut=Tt([o("facet-button")],Ut);var Mt=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let qt=class extends At{constructor(){super(...arguments),this.useRadios=!1,this.filterText="",this.showAllFacets=!1,this.FACET_LIMIT=10}updated(t){if(this.facetConfigLoaded||!this.context?.responseReady)return;super.updated(t);const s=this._getFacetData();this.useRadios=this._configOrAttribute(s?.settings.widget.useRadios,this.useRadios)}applyFacet(t,s,e=!1){this.useRadios&&this.context?.query?.delete(`f[${t}]`),super.applyFacet(t,s,e)}_getOptions(t=void 0){const s=this._getFacetData();let e=t??s.results;if(void 0===t&&this.softLimit&&0!==this.softLimit&&!this.showMoreOpen&&(e=e.slice(0,this.softLimit)),this.filterText&&""!==this.filterText.trim()){const t=this.filterText.trim().toLowerCase();e=e.filter((s=>s.label.toLowerCase().includes(t)))}const i=e.length>this.FACET_LIMIT,n=e.length>this.FACET_LIMIT||""!==this.filterText,h=e.length>this.FACET_LIMIT&&!this.showAllFacets,r=h?e.slice(0,this.FACET_LIMIT):e,o=h?e.slice(this.FACET_LIMIT):[];return X`
      ${n?X` <input
                type="text"
                placeholder="Search Term"
                .value=${this.filterText}
                @input=${t=>{const s=t.target;this.filterText=s.value}}
              />`:tt}

      <ul>
        ${Et(r,(t=>t.key),(t=>this._renderOption(t,s,!1)))}

        ${Et(o,(t=>t.key),(t=>this._renderOption(t,s,!0)))}

        ${i?X`<button @click=${()=>{this.showAllFacets=!this.showAllFacets}}>
            ${this.showAllFacets?"Show Less":"Show More"}
          </button>`:tt}
      </ul>
    `}_renderOption(t,s,e){const i=this.genUniqId(`${s.key}-${this.safeIdentifier(t.key)}`),n=["facet"];return this.useRadios?n.push("radio"):n.push("checkbox"),t.active&&n.push("active"),t.in_active_trail&&n.push("active-trail"),t.children.length>0&&(n.push("has-children"),t.children_expanded?n.push("children-expanded"):n.push("children-hidden")),X`
      <li class="${n.join(" ")}" ?hidden=${e}>
        <label for="${i}">
          ${t.label}${this.showCount?` (${t.count})`:null}
        </label>
        <input
          type="${this.useRadios?"radio":"checkbox"}"
          id=${i}
          name="${t.key}"
          value="${t.key}"
          .checked=${t.active??!1}
          ?checked=${t.active??!1}
          @click=${()=>this.applyFacet(this.urlAlias,t.key)}
        />
        ${t.children.length>0?this._getOptions(t.children):null}
      </li>
    `}render(){return super.render(),this.shouldRender()?this.collapsible?this.wrapCollapsible(this._getCollapsibleLabelElement(),X`${this._getOptions()} ${this._getSoftLimitElement()}
        ${this._getResetElement()} `):X`
      ${this.showLabel?this._getLabelElement():null} ${this._getOptions()}
      ${this._getSoftLimitElement()} ${this._getResetElement()}
    `:null}};Mt([E({type:Boolean})],qt.prototype,"useRadios",void 0),Mt([C()],qt.prototype,"filterText",void 0),Mt([C()],qt.prototype,"showAllFacets",void 0),qt=Mt([o("facet-checkbox")],qt);var Dt=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let Bt=class extends At{constructor(){super(...arguments),this.selectLabel="Choose an option"}updated(t){if(this.facetConfigLoaded||!this.context?.responseReady)return;super.updated(t);const s=this._getFacetData();this.selectLabel=this._configOrAttribute(s?.settings.widget.selectLabel,this.selectLabel)}applyFacet(t,s,e=!1){s?super.applyFacet(t,s,e):this.clearFacet(t)}_getLabelElementSelect(){const t=this._getFacetData(),s=this.overrideLabel?this.overrideLabel:t.label;return X`<label
      for="facet-select-${this.uid}"
      class="facet-label ${t.key}"
      >${s}</label
    >`}_getOptionElement(t){return X` <option
      value=${t.key}
      ?selected=${t.active??!1}
    >
      ${t.label}${this.showCount?` (${t.count})`:null}
    </option>`}_getAllOptionsElements(){const t=this._getFacetData();return X`
      <option value="" ?selected="${(t.active_values?.length??0)<=0}">
        ${this.selectLabel}
      </option>
      ${Et(t.results,(t=>t.key),(t=>X`${this._getOptionElement(t)}`))}
    `}_getSelectElement(){return X`
      <select
        id="facet-select-${this.uid}"
        @change="${t=>{const s=t.currentTarget;this.applyFacet(this.urlAlias,s.value,!0)}}"
      >
        ${this._getAllOptionsElements()}
      </select>
    `}render(){return super.render(),this.shouldRender()?this.collapsible?this.wrapCollapsible(this._getCollapsibleLabelElement(),X`${this._getSelectElement()} ${this._getResetElement()}`):X` ${this.showLabel?this._getLabelElementSelect():null}
    ${this._getSelectElement()} ${this._getResetElement()}`:null}};Dt([E()],Bt.prototype,"selectLabel",void 0),Bt=Dt([o("facet-dropdown")],Bt);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Ht=(t,s)=>{const e=t._$AN;if(void 0===e)return!1;for(const t of e)t._$AO?.(s,!1),Ht(t,s);return!0},Nt=t=>{let s,e;do{if(void 0===(s=t._$AM))break;e=s._$AN,e.delete(t),t=s}while(0===e?.size)},Ft=t=>{for(let s;s=t._$AM;t=s){let e=s._$AN;if(void 0===e)s._$AN=e=new Set;else if(e.has(t))break;e.add(t),zt(s)}};function It(t){void 0!==this._$AN?(Nt(this),this._$AM=t,Ft(this)):this._$AM=t}function Wt(t,s=!1,e=0){const i=this._$AH,n=this._$AN;if(void 0!==n&&0!==n.size)if(s)if(Array.isArray(i))for(let t=e;t<i.length;t++)Ht(i[t],!1),Nt(i[t]);else null!=i&&(Ht(i,!1),Nt(i));else Ht(this,t)}const zt=t=>{t.type==wt&&(t._$AP??=Wt,t._$AQ??=It)};class Kt extends Ot{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,s,e){super._$AT(t,s,e),Ft(this),this.isConnected=t._$AU}_$AO(t,s=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),s&&(Ht(this,t),Nt(this))}setValue(t){if((t=>void 0===t.strings)(this.t))this.t._$AI(t,this);else{const s=[...this.t._$AH];s[this.i]=t,this.t._$AI(s,this,0)}}disconnected(){}reconnected(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Vt=()=>new Gt;class Gt{}const Jt=new WeakMap,Zt=St(class extends Kt{render(t){return tt}update(t,[s]){const e=s!==this.Y;return e&&void 0!==this.Y&&this.rt(void 0),(e||this.lt!==this.ct)&&(this.Y=s,this.ht=t.options?.host,this.rt(this.ct=t.element)),tt}rt(t){if(this.isConnected||(t=void 0),"function"==typeof this.Y){const s=this.ht??globalThis;let e=Jt.get(s);void 0===e&&(e=new WeakMap,Jt.set(s,e)),void 0!==e.get(this.Y)&&this.Y.call(this.ht,void 0),e.set(this.Y,t),void 0!==t&&this.Y.call(this.ht,t)}else this.Y.value=t}get lt(){return"function"==typeof this.Y?Jt.get(this.ht??globalThis)?.get(this.Y):this.Y?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var Qt=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};const Xt=t=>{class s extends t{constructor(){super(...arguments),this.htmlSelectLabel="Choose an option",this.multipleSelect=!1,this.dropdownOpen=!1,this.required=!1,this.focusedOption=null,this.focusOnOpen=!1,this.searchTerm="",this.inputRef=Vt(),this.listboxRef=Vt(),this.selectActions={Close:0,CloseSelect:1,First:2,Last:3,Next:4,Open:5,PageDown:6,PageUp:7,Previous:8,Select:9,Type:10}}updated(t){super.updated(t),this.focusOnOpen&&(this._setOptionFocus(this._getNextOption(this.selectActions.First)),this.focusOnOpen=!1)}getHtmlLabel(){return""}getOptionId(t){const s=this.safeIdentifier(this.getOptionKey(t));return`option-${this.uid}-${s}`}getOptionKey(t){return""}getOptionValue(t){return""}getOptionLabel(t){return""}getAllOptions(){return[]}isOptionSelected(t){return!0}hasSelectedOptions(){return!1}getHtmlSelectLabel(){return this.htmlSelectLabel}optionMouseDown(t,s){t.preventDefault()}clearSelection(t){t.preventDefault()}applySelection(t){}getSelectedOptions(){return[]}filterOptions(t){return[]}_getHtmlLabelElement(){return this.getHtmlLabel()?X`<label id="combo-label-${this.uid}" class="combo-label"
            >${this.getHtmlLabel()}</label
          >`:X``}_getOptionElement(t){return X`
        <div
          role="option"
          id=${this.getOptionId(t)}
          class="combo-option ${this.isOptionSelected(t)?"selected":null}"
          aria-selected="${this.isOptionSelected(t)}"
          @mousedown=${s=>this.optionMouseDown(s,t)}
          data-value="${this.getOptionValue(t)}"
        >
          ${this.getOptionLabel(t)}
        </div>
      `}_getAllOptionsElements(){return X`
        <div
          role="option"
          id="select-label-${this.uid}"
          class="combo-option combo-option-label${this.required?" disabled":null}"
          aria-selected=${!this.hasSelectedOptions()}
          @mousedown=${this.required?null:this.clearSelection}
          aria-disabled="${this.required}"
        >
          ${this.htmlSelectLabel}
        </div>
        ${Et(this.getAllOptions(),(t=>this.getOptionId(t)),(t=>this._getOptionElement(t)))}
      `}_getHtmlSelectLabelElement(){return X`
        <div
          ${Zt(this.inputRef)}
          id="combo-input-${this.uid}"
          role="combobox"
          tabindex="0"
          class="combo-input ${this.dropdownOpen?"open":null}"
          aria-controls="combo-listbox-${this.uid}"
          aria-expanded="${this.dropdownOpen}"
          aria-haspopup="listbox"
          aria-labelledby="combo-label-${this.uid}"
          @blur=${this.close}
          @focusout=${this.close}
          @click=${this.toggleDropdown}
          @keydown=${t=>this.onSelectKeyDown(t)}
        >
          ${this.getHtmlSelectLabel()}
        </div>
      `}_getHtmlSelectElement(){return X`
        <div
          ${Zt(this.listboxRef)}
          class="combo-options ${this.dropdownOpen?"open":null}"
          role="listbox"
          id="combo-listbox-${this.uid}"
          aria-labelledby="combo-label-${this.uid}"
          tabindex="-1"
        >
          ${this.dropdownOpen?this._getAllOptionsElements():null}
        </div>
      `}close(){this.dropdownOpen=!1,this.focusedOption=null}_getActionFromKey(t){const{key:s,altKey:e,ctrlKey:i,metaKey:n}=t;if(!this.dropdownOpen&&["ArrowDown","ArrowUp","Enter"," "].includes(s))return this.selectActions.Open;if("Home"===s)return this.selectActions.First;if("End"===s)return this.selectActions.Last;if("Backspace"===s||"Clear"===s||1===s.length&&" "!==s&&!e&&!i&&!n)return this.selectActions.Type;if(this.dropdownOpen){if("ArrowUp"===s&&e)return this.selectActions.CloseSelect;if("ArrowDown"===s&&!e)return this.selectActions.Next;if("ArrowUp"===s)return this.selectActions.Previous;if("PageUp"===s)return this.selectActions.PageUp;if("PageDown"===s)return this.selectActions.PageDown;if("Escape"===s)return this.selectActions.Close;if("Enter"===s||" "===s)return this.selectActions.CloseSelect}return-1}onSelectKeyDown(t){const{key:s}=t,e=this._getActionFromKey(t);switch(e){case this.selectActions.Last:case this.selectActions.First:case this.selectActions.Next:case this.selectActions.Previous:case this.selectActions.PageUp:case this.selectActions.PageDown:t.preventDefault(),this._setOptionFocus(this._getNextOption(e));break;case this.selectActions.CloseSelect:t.preventDefault(),this.applySelection(t),this.multipleSelect||this.close();break;case this.selectActions.Close:t.preventDefault(),this.dropdownOpen=!1;break;case this.selectActions.Type:this._typeSearch(s);break;case this.selectActions.Open:t.preventDefault(),this.focusOnOpen=!0,this.dropdownOpen=!0}}toggleDropdown(){const t=this.getSelectedOptions();this.dropdownOpen=!this.dropdownOpen,this.dropdownOpen?t.length>0&&this.inputRef.value?.setAttribute("aria-activedescendant",this.getOptionId(t[0])):this.inputRef.value?.removeAttribute("aria-activedescendant")}_typeSearch(t){this.dropdownOpen=!0;const s=this._getSearchTerm(t),e=this._searchOptions(s);if(!e)return window.clearTimeout(this.searchTimeout),void(this.searchTerm="");this._setOptionFocus(e)}_searchOptions(t){const s=this.filterOptions(t),e=t.split(""),i=e.every((t=>t===e[0]));if(0!==s.length||i){if(s[0])return this.getOptionId(s[0]);if(i){const t=this.filterOptions(e[0]);if(0===t.length)return;return this.getOptionId(t[(e.length-1)%t.length])}}}_getNextOption(t){const s=this.getAllOptions(),e=`select-label-${this.uid}`;if(!this.focusedOption)return e;let i=s.findIndex((t=>this.focusedOption?.id===this.getOptionId(t)));i=-1===i?0:i+1;const n=s.length+1;let h;switch(t){case this.selectActions.First:h=0;break;case this.selectActions.Last:h=n-1;break;case this.selectActions.Previous:h=Math.max(0,i-1);break;case this.selectActions.Next:h=Math.min(n,i+1);break;case this.selectActions.PageUp:h=Math.max(0,i-10);break;case this.selectActions.PageDown:h=Math.min(n-1,i+10);break;default:h=i}return 0===h?e:this.getOptionId(s[h-1])}_getSearchTerm(t){return"number"==typeof this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.searchTimeout=window.setTimeout((()=>{this.searchTerm=""}),500),this.searchTerm+=t,this.searchTerm}_elementInView(t){const s=this.querySelector(`#${t}`);if(!s)return!0;var e=s.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}_isScrollable(){const t=this.listboxRef.value;return void 0!==t&&t.clientHeight<t.scrollHeight}_maintainScrollVisibility(t){const s=this.querySelector(`#${t}`),e=this.listboxRef.value;if(!e)return;const{offsetHeight:i,offsetTop:n}=s,{offsetHeight:h,scrollTop:r}=e,o=n+i>r+h;n<r?e.scrollTo(0,n):o&&e.scrollTo(0,n-h+i)}_setOptionFocus(t){this.focusedOption=this.querySelector(`#${t}`),this.inputRef.value?.setAttribute("aria-activedescendant",t),this.listboxRef.value?.querySelectorAll(".focused")?.forEach((t=>{t.classList.remove("focused")})),this.focusedOption?.classList.add("focused"),this._isScrollable()&&this._maintainScrollVisibility(t),this._elementInView(t)||this.focusedOption?.scrollIntoView({behavior:"smooth",block:"nearest"}),this.inputRef.value?.focus()}}return Qt([E()],s.prototype,"htmlSelectLabel",void 0),Qt([E({type:Boolean})],s.prototype,"multipleSelect",void 0),Qt([C()],s.prototype,"dropdownOpen",void 0),Qt([E({type:Boolean})],s.prototype,"required",void 0),Qt([C()],s.prototype,"focusedOption",void 0),Qt([C()],s.prototype,"focusOnOpen",void 0),Qt([C()],s.prototype,"searchTimeout",void 0),Qt([C()],s.prototype,"searchTerm",void 0),s};var Yt=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let ts=class extends(Xt(At)){updated(t){if(this.facetConfigLoaded||!this.context?.responseReady)return;super.updated(t);const s=this._getFacetData();this.htmlSelectLabel=this._configOrAttribute(s?.settings.widget.htmlSelectLabel,this.htmlSelectLabel),this.required=this._configOrAttribute(s?.settings.widget.required,this.required),this.multipleSelect=this._configOrAttribute(s?.settings.widget.multipleSelect,this.multipleSelect)}applyFacet(t,s,e=!1){super.applyFacet(t,s,!this.multipleSelect),this.multipleSelect||this.close()}getHtmlLabel(){return this.overrideLabel?this.overrideLabel:this._getFacetData().label}getOptionKey(t){return t.key}getOptionValue(t){return t.key}getOptionLabel(t){return`${t.label}${this.showCount?` (${t.count})`:""}`}getAllOptions(){return this._getFacetData().results}isOptionSelected(t){return t.active??!1}hasSelectedOptions(){return(this._getFacetData()?.active_values?.length??0)>0}getHtmlSelectLabel(){if(this.hasSelectedOptions()){return this.getSelectedOptions().map((t=>t.label)).join(", ")}return this.htmlSelectLabel}optionMouseDown(t,s){t.preventDefault(),this.applyFacet(this.urlAlias,s.key)}clearSelection(t){t.preventDefault(),this.clearFacet(this.urlAlias),this.close()}applySelection(t){this.focusedOption&&this.focusedOption.dataset.value?this.applyFacet(this.urlAlias,this.focusedOption.dataset.value):(this.clearFacet(this.urlAlias),this.close())}getSelectedOptions(){return this._getFacetData().results.filter((t=>t.active))}filterOptions(t){return this.getAllOptions().filter((s=>s.label.toLowerCase().startsWith(t)))}render(){return super.render(),this.shouldRender()?this.collapsible?this.wrapCollapsible(this._getCollapsibleLabelElement(),X`
          <div class="html-dropdown-container">
            ${this._getHtmlSelectLabelElement()} ${this._getHtmlSelectElement()}
            ${this._getResetElement()}
          </div>
        `):X`
      ${this.showLabel?this._getHtmlLabelElement():null}
      <div class="html-dropdown-container">
        ${this._getHtmlSelectLabelElement()} ${this._getHtmlSelectElement()}
        ${this._getResetElement()}
      </div>
    `:null}};ts=Yt([o("facet-dropdown-html")],ts);var ss=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let es=class extends mt{constructor(){super(...arguments),this.removeText="Remove @value",this.resetText="Reset (@count)",this.showReset=!1,this.showIndividual=!1}_getApplied(){const t=[],s=this?.context?.query;return s?(this.context?.response&&this.context.response.facets.forEach((e=>{s.getAll(`f[${e.settings.url_alias}]`).forEach((s=>{t.push({key:e.settings.url_alias,facetKey:e.settings.url_alias,value:s})}))})),t):t}_getResetElement(){return X`
      <li class="applied reset">
        <button class="applied-button-reset" @click=${()=>this.clearFacets()}>
          ${this.resetText.replaceAll("@count",""+this._getApplied().length)}
        </button>
      </li>
    `}_getIndividualFacets(t){return X`
      ${Et(t,(t=>`${t.key}:${t.value}`),(t=>{const s=this.removeText.replace("@value",t.value);return X`
            <li class="applied facet">
              <div @click=${()=>this.applyFacet(t.facetKey,t.value)}>
                ${t.value}
              </div>
              <button
                @click=${()=>this.applyFacet(t.facetKey,t.value)}
                class="applied-button-remove"
              >
                ${s}
              </button>
            </li>
          `}))}
    `}render(){if(!this.context?.response)return null;const t=this._getApplied();return 0===t.length?null:X`
      <ul class="applied-facets">
        ${this.showIndividual?this._getIndividualFacets(t):null}
        ${this.showReset?this._getResetElement():null}
      </ul>
    `}};ss([E()],es.prototype,"removeText",void 0),ss([E()],es.prototype,"resetText",void 0),ss([E({type:Boolean})],es.prototype,"showReset",void 0),ss([E({type:Boolean})],es.prototype,"showIndividual",void 0),es=ss([o("search-applied-facets")],es);var is=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let ns=class extends mt{constructor(){super(...arguments),this.url="",this.submitText="Search",this.ariaLabelText="",this.placeHolderText="",this.componentLabelText=""}createRenderRoot(){return this.style.display="block",this}_submit(t){if(t.preventDefault(),t.currentTarget instanceof Element){const s=t?.currentTarget?.querySelector("input")?.value?.trim(),e=new URLSearchParams;e.set("q",s||""),this.getResults(e)}}render(){return X`
      <form
        class="search-box s-box-large-h s-box-medium-v c-bg-secondary s-margin-general-medium"
        @submit="${t=>this._submit(t)}"
      >
        <h2 class="t-title-small t-uppercase s-stack-small">
          ${this.componentLabelText}
        </h2>
        <div class="search-box-action-area c-bg-secondary">
          <input
            class="search-box-input t-body-medium c-content-primary c-bg-secondary"
            type="text"
            placeholder="${this.placeHolderText}"
            aria-label="${this.ariaLabelText}"
          ></input>
          <button class="search-box-submit" type="submit">
            <div class="sr-only">${this.submitText}</div>
          </button>
        </div>
      </form>
    `}};is([E({attribute:!0})],ns.prototype,"url",void 0),is([E({attribute:!0})],ns.prototype,"submitText",void 0),is([E({attribute:!0})],ns.prototype,"ariaLabelText",void 0),is([E({attribute:!0})],ns.prototype,"placeHolderText",void 0),is([E({attribute:!0})],ns.prototype,"componentLabelText",void 0),ns=is([o("search-box")],ns);var hs=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let rs=class extends mt{constructor(){super(...arguments),this.placeHolderText="",this.labelText="",this.clearText="Remove"}_querySearch(t){t.preventDefault();const s=this.querySelector("input"),e=s?.value.trim(),i=new URLSearchParams;e?i.set("q",e):i.delete("q"),this.getResults(i)}_clearSearch(){const t=new URLSearchParams;this.getResults(t)}render(){return X`
      <form class="search-input" @submit="${this._querySearch}">
        <span>
          <input
            class="search-input-input"
            type="text"
            .value="${this?.context?.query?.get("q")??""}"
            placeholder="${this.placeHolderText}"
          />
          ${this?.context?.query?.get("q")?X`<button
                class="search-input-clear"
                type="button"
                @click=${()=>{this._clearSearch()}}
              >
                ${this.clearText}
              </button>`:null}
        </span>
        <button class="search-input-submit" type="submit">
          ${this.labelText}
        </button>
      </form>
    `}};hs([E()],rs.prototype,"placeHolderText",void 0),hs([E()],rs.prototype,"labelText",void 0),hs([E()],rs.prototype,"clearText",void 0),rs=hs([o("search-input")],rs);var os=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let ls=class extends mt{createRenderRoot(){return this.style.display="none",this}render(){if(!this.context?.responseReady)return null;const t=this.context?.response?.search_results_count;return t?(this.classList.add("no-results-hidden"),this.classList.remove("no-results-visible"),this.style.setProperty("display","none")):(this.classList.add("no-results-visible"),this.classList.remove("no-results-hidden"),this.style.removeProperty("display")),""}};ls=os([o("search-no-results-message")],ls);var as=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let cs=class extends mt{constructor(){super(...arguments),this.data={}}render(){return X`
      <details open style="overflow-x: scroll">
        <summary>Item</summary>
        <pre>${JSON.stringify(this.data,null,2)}</pre>
      </details>
    `}};as([E({attribute:!0,type:Object})],cs.prototype,"data",void 0),cs=as([o("search-result-element-default")],cs);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class us extends Ot{constructor(t){if(super(t),this.it=tt,t.type!==wt)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===tt||null==t)return this._t=void 0,this.it=t;if(t===Y)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this._t;this.it=t;const s=[t];return s.raw=s,this._t={_$litType$:this.constructor.resultType,strings:s,values:[]}}}us.directiveName="unsafeHTML",us.resultType=1;const ds=St(us);var ps=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let bs=class extends mt{constructor(){super(...arguments),this.settings={},this.data={}}render(){return this?.settings?.field&&this.data&&this.data[this?.settings?.field]?X`${ds(this.data[this?.settings.field])}`:null}};ps([E({type:Object})],bs.prototype,"settings",void 0),ps([E({type:Object})],bs.prototype,"data",void 0),bs=ps([o("search-result-element-rendered")],bs);var fs=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let vs=class extends mt{constructor(){super(...arguments),this.summaryText="@start - @end of @total"}_getNumbers(){const t=this.context?.response?.search_results_page??0,s=parseInt(this.context?.response?.search_results_per_page?this.context?.response.search_results_per_page:this.context?.defaultPerPage),e=this.context?.response?.search_results_count,i=t*s,n={start:0,end:0,total:e};n.start=0===e?0:t*s+1;const h=+i+s;return n.end=h>e?e:h,n}_getSummaryElement(){const t=this._getNumbers(),s=this.context?.response?.took?this.context?.response?.took/1e3:"",e=this.summaryText.replaceAll("@start",""+t.start).replaceAll("@end",""+t.end).replaceAll("@total",""+t.total).replaceAll("@searchQuery",this.context?.query?.get("q")??"").replaceAll("@time",""+s);return X`${e}`}render(){return this.context?.response?X`<div>${this._getSummaryElement()}</div>`:null}};fs([E()],vs.prototype,"summaryText",void 0),vs=fs([o("search-result-summary")],vs);
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const $s=Symbol.for(""),ms=t=>{if(t?.r===$s)return t?._$litStatic$},gs=new Map,ys=(t=>(s,...e)=>{const i=e.length;let n,h;const r=[],o=[];let l,a=0,c=!1;for(;a<i;){for(l=s[a];a<i&&void 0!==(h=e[a],n=ms(h));)l+=n+s[++a],c=!0;a!==i&&o.push(h),r.push(l),a++}if(a===i&&r.push(s[i]),c){const t=r.join("$$lit$$");void 0===(s=gs.get(t))&&(r.raw=r,gs.set(t,s=r)),e=o}return t(s,...e)})(X);var ws=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let Ss=class extends mt{constructor(){super(...arguments),this.resultField="",this.mappings=[],this.configLoaded=!1,this.processedMappings={}}updated(t){!this.configLoaded&&this.context?.responseReady&&(this.resultField||(this.resultField=this.context.response?.swc_results.field??""),0===this.mappings.length&&(this.mappings=this.context.response?.swc_results.mappings??[]),this.mappings.forEach((t=>{t.keys.forEach((s=>{this.processedMappings[s]={element:t.element,settings:t.settings}}))})),this.configLoaded=!0)}_mapResult(t){return this.processedMappings[`${t[this.resultField]}-${this.context?.resultDisplay}`]?this.processedMappings[`${t[this.resultField]}-${this.context?.resultDisplay}`]:this.processedMappings[`default-${this.context?.resultDisplay}`]?this.processedMappings[`default-${this.context?.resultDisplay}`]:this.processedMappings[t[this.resultField]]?this.processedMappings[t[this.resultField]]:this.processedMappings.default?this.processedMappings.default:void console.warn("No element mapping found for: ",t)}_getResults(){const t=this.context?.response?.search_results??[];return 0===t.length?null:ys`
      <div>
        <ul class="${this.context?.resultDisplay}">
          ${Et(t,(t=>t.id),(t=>{const s=this._mapResult(t);return s?customElements.get(s.element)?ys`<li
                class="search-result result-${this.safeIdentifier(t[this.resultField]??"default")} s-margin-general-medium"
              >
                <${(t=>({_$litStatic$:t,r:$s}))(s.element)}
                  .data=${t}
                  .settings=${s.settings}
                />
              </li>`:(console.warn(s.element+" is not defined as a custom element for element mapping:",t),null):null}))}
        </ul>
      </div>
    `}render(){return this.configLoaded?ys`${this._getResults()} `:null}};ws([E()],Ss.prototype,"resultField",void 0),ws([E({type:Object})],Ss.prototype,"mappings",void 0),ws([C()],Ss.prototype,"configLoaded",void 0),ws([C()],Ss.prototype,"processedMappings",void 0),Ss=ws([o("search-results")],Ss);var Os=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let xs=class extends mt{constructor(){super(...arguments),this.settings={},this.data={}}render(){const t=this.settings.id,s=this.settings.title,e=this.settings.thumbnail,i=this.settings.fields,n=this.settings.base_path,h=this?.context?.query?.get("q");let r=this.data[t].replace("solr_document/");r=h?r+"?q="+h:r;let o=this.data[s],l=this.data[e];const a=Object.entries(i).map((([t,s],e)=>{const i=this.data[s.key];if(null==i||""===i||Array.isArray(i)&&0===i.length)return tt;let n="",h="";0===e?(n="type",h="Item type:"):1===e?(n="collection",h="Collection:"):2===e&&(n="date",h="Date:");const r="t-label"+(n?" "+n:"");return s.show_label&&"true"==s.show_label?X`<div class="">
          <dt>${t}:</dt>
          <dd class="${r}">${i}</dd>
        </div>`:X`<dd class="${r}">
          <span></span>
          <span class="sr-only">${h}</span>
          ${i}
        </dd>`}));Array.isArray(o)&&(o=o.map((t=>t.startsWith("[@")?t.split("]")[1]:t)),o=o.join(" | ")),Array.isArray(l)&&(l=l[0]);const c=Object.values(i)[0]?.key,u=c?this.data[c]:"";return X`
      <section>
        <div class="item-detail">
          <h2 class="item-title t-title-small s-stack-small">
            <a href="${n+r}"
              ><span class="sr-only">Title:</span>${o}
            </a>
          </h2>
          ${X`<dl class="item-fields">${a}</dl>`}
        </div>
        ${"static:unavailable"===l?tt:X`<img
              src="${l}"
              alt="${u}"
              class="s-inline-small"
              onerror="
              this.onerror=null;
              this.src='/assets/placeholder-image.svg';
              this.classList.add('image-error', 't-label', 't-italic');
              this.alt='.   ${u} - image not found';"
            />`}
      </section>
    `}};Os([E({type:Object})],xs.prototype,"settings",void 0),Os([E({attribute:!0,type:Object})],xs.prototype,"data",void 0),xs=Os([o("search-result-element-umd-libraries")],xs);var _s=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let ks=class extends(Xt(mt)){constructor(){super(...arguments),this.required=!0,this.type="select",this.labelText="Per page",this.options=[],this.indexConfigLoaded=!1}updated(t){!this.indexConfigLoaded&&this.context?.responseReady&&(this.indexConfigLoaded=!0,0===this.options.length&&this.context.response?.swc_page_sizes&&(this.options=this.context.response?.swc_page_sizes))}_queryPerPage(t){const s=new URLSearchParams(this.context?.query?.toString()??""),e=""+this?.context?.defaultPerPage,i=""+this?.context?.response?.search_results_per_page;t?s.set("limit",t):s.set("limit",e),t!==i&&s.delete("page"),t===e&&s.delete("limit"),this.getResults(s)}_getSelected(){const t=""+this?.context?.defaultPerPage,s=""+this?.context?.response?.search_results_per_page;let e=this.options.find((s=>s.key===t));return this.context?.response?.search_results_per_page&&(e=this.options.find((t=>t.key===s))),e}_getSelectOption(){return X` ${Et(this.options,(t=>t.key),(t=>X`<option
          value=${t.key}
          ?selected=${this._getSelected()?.key===t.key}
        >
          ${t.label}
        </option>`))}`}_getListOption(){return X` ${Et(this.options,(t=>t.key),(t=>X`<li>
          <button
            class="${this._getSelected()?.key===t.key?"selected":null}"
            value=${t.key}
            @click=${s=>{s.preventDefault(),this._queryPerPage(""+t.key)}}
          >
            ${t.label}
          </button>
        </li>`))}`}_getSelect(){return X`
      ${this.labelText?X`<label for="per-page-${this.uid}">${this.labelText}</label>`:null}
      <select
        id="per-page-${this.uid}"
        name="result count"
        @change="${t=>{t.preventDefault();const s=t.currentTarget.value;this._queryPerPage(s)}}"
        required
      >
        ${this._getSelectOption()}
      </select>
    `}_getList(){return X`
      ${this.labelText?X`<label for="per-page-${this.uid}">${this.labelText}</label>`:null}
      <ul id="sort-${this.uid}">
        ${this._getListOption()}
      </ul>
    `}_getHtml(){return X`
      ${this._getHtmlLabelElement()}
      <div class="html-dropdown-container">
        ${this._getHtmlSelectLabelElement()} ${this._getHtmlSelectElement()}
      </div>
    `}render(){if(0===this.options.length||!this.context?.response)return null;switch(this.type){case"select":return this._getSelect();case"list":return this._getList();case"html":return this._getHtml()}}getHtmlLabel(){return this.labelText}getOptionKey(t){return t.key?""+t.key:""+t.value}getOptionValue(t){return t.value?""+t.value:""+t.key}getOptionLabel(t){return""+t.label}getAllOptions(){return this.options}isOptionSelected(t){const s=this._getSelected();return!!s&&this.getOptionValue(s)===this.getOptionValue(t)}hasSelectedOptions(){return!!this._getSelected()}getHtmlSelectLabel(){return this._getSelected()?""+this._getSelected()?.label:this.htmlSelectLabel}optionMouseDown(t,s){t.preventDefault(),this._queryPerPage(""+this.getOptionValue(s)),this.close()}applySelection(t){this.focusedOption&&this.focusedOption.dataset.value&&this._queryPerPage(this.focusedOption.dataset.value)}getSelectedOptions(){const t=this._getSelected();return t?[t]:[]}filterOptions(t){return this.getAllOptions().filter((s=>(""+s.label).toLowerCase().startsWith(t)))}};_s([E()],ks.prototype,"type",void 0),_s([E()],ks.prototype,"labelText",void 0),_s([E({type:Array})],ks.prototype,"options",void 0),_s([C()],ks.prototype,"indexConfigLoaded",void 0),ks=_s([o("search-results-per-page")],ks);var Ls=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let Rs=class extends mt{constructor(){super(...arguments),this.options=[],this.indexConfigLoaded=!1}updated(t){!this.indexConfigLoaded&&this.context?.responseReady&&(this.indexConfigLoaded=!0,0===this.options.length&&this.context.response?.swc_displays&&(this.options=this.context.response?.swc_displays))}_getOptionElement(t){return ys`<li>
      <button
        name="${t.key}"
        class="${t.key} ${t.key===this.context?.resultDisplay?"selected":""}"
        aria-pressed="${t.key===this.context?.resultDisplay}"
        @click="${()=>{const s={...this.context};s.resultDisplay=""+t.key,this.updateContext(s)}}"
      >
        ${t.label}
      </button>
    </li>`}_getAllOptions(){return ys` <ul>
      ${Et(this.options,(t=>t.key),(t=>ys`${this._getOptionElement(t)}`))}
    </ul>`}render(){return ys`${this._getAllOptions()} `}};Ls([E({type:Object})],Rs.prototype,"options",void 0),Ls([C()],Rs.prototype,"indexConfigLoaded",void 0),Rs=Ls([o("search-results-switcher")],Rs);var js=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let Ps=class extends mt{constructor(){super(...arguments),this.prevLabel="<",this.nextLabel=">",this.showNextPrev=!1,this.showFirstLast=!1,this.firstLabel="First page",this.lastLabel="Last page",this.pagesToDisplay=void 0,this.firstLastPagesToDisplay=0}_changePage(t){const s=new URLSearchParams(this.context?.query?.toString()??"");0!==t?s.set("page",""+t):s.delete("page"),this.getResults(s)}_getCurrentPageElement(){const t=this.context?.response?.search_results_page??0;return ys`<button class="page current" aria-pressed="true">
      ${t+1}
    </button>`}_getPrevNextButtonElement(t,s,e,i,n){return ys`
      <button
        class=${e}
        ?disabled=${i}
        @click=${()=>this._changePage(s)}
        aria-label=${i?`${t} page button disabled`:`Go to ${t} page`}
      >
        ${"next"===n?ys`${t}<span class="i-chevron"></span>`:ys`<span class="i-chevron"></span>${t}`}
      </button>
    `}_getWrappingPagesElements(){const t=[],s=[],e=this.context?.response?.search_results_page??0,i=this.context?.response?.search_results_pages??0,n=(!this.firstLastPagesToDisplay||0!==e&&e!==i-1?this.pagesToDisplay:this.firstLastPagesToDisplay)??0;for(let h=1;h<=n;h++)e-h>=0&&t.unshift(this._getPrevNextButtonElement(e-h+1,e-h,"prev page",!1,"prev")),e+h<i&&s.push(this._getPrevNextButtonElement(e+h+1,e+h,"next page",!1,"next"));return{prev:t,next:s}}_getWrappingButtonElements(){const t=this.context?.response?.search_results_page??0,s=this.context?.response?.search_results_pages??0,e=ys` ${this.showNextPrev?this._getPrevNextButtonElement(this.prevLabel,t-1,"prev button umd-lib secondary",0===t,"prev"):null}`;return{next:ys` ${this.showNextPrev?this._getPrevNextButtonElement(this.nextLabel,t+1,"next button umd-lib secondary",t===s-1,"next"):null}`,prev:e,first:ys` ${this.showFirstLast?ys`<button
          class="first button"
          @click=${()=>this._changePage(0)}
          ?disabled=${0===t}
        >
          ${this.firstLabel}
        </button>`:null}`,last:ys` ${this.showFirstLast?ys`<button
          class="last button"
          @click=${()=>this._changePage(s-1)}
          ?disabled=${t===s-1}
        >
          ${this.lastLabel}
        </button>`:null}`}}_getResultPaginationElements(){const t=this.context?.response?.search_results_page??0,s=this.context?.response?.search_results_pages??0;return ys`
      <div>
        <span class="sr-only"
          >Page navigation: Enter page number, currently on page
          ${t+1} of ${s}</span
        >
        <label for="results-pagination" aria-hidden="true" class="t-body-small"
          >Go to page</label
        >
        <input
          class="t-interactive c-border-secondary c-content-primary"
          type="number"
          id="results-pagination"
          name="page"
          min="1"
          max="${s}"
          value="${t+1}"
          aria-label="Enter page number, from 1 to ${s}"
        />
        <span aria-hidden="true" class="t-body-small">of ${s}</span>
        <button
          @click=${()=>{const e=this.renderRoot.querySelector("#results-pagination"),i=e?parseInt(e.value,10):t+1;!isNaN(i)&&i>=1&&i<=s&&this._changePage(i-1)}}
          aria-label="Go to page number entered in the input box"
          class="umd-lib button"
        >
          Go
        </button>
      </div>
    `}render(){if(void 0===this.context||!this.context.responseReady||1===this.context.response?.search_results_pages)return;const t=this._getWrappingButtonElements();return ys`
      <nav class="pager" aria-label="Result navigation">
        <div
          class="pagination__status t-body-small s-stack-small"
          id="page-context"
        >
          Currently on Page
          ${"number"==typeof this.context?.response?.search_results_page?this.context.response.search_results_page+1:0}
          of
          ${"number"==typeof this.context?.response?.search_results_pages?this.context.response.search_results_pages:0}
        </div>
        <div class="pagination__actions">
          <ul class="pagination__action buttons">
            <li>${t.prev}</li>
            <li>${t.next}</li>
          </ul>
          <div class="pagination__action go-to-result-page">
            ${this._getResultPaginationElements()}
          </div>
        </div>
      </nav>
    `}};js([E()],Ps.prototype,"prevLabel",void 0),js([E()],Ps.prototype,"nextLabel",void 0),js([E({type:Boolean})],Ps.prototype,"showNextPrev",void 0),js([E({type:Boolean})],Ps.prototype,"showFirstLast",void 0),js([E()],Ps.prototype,"firstLabel",void 0),js([E()],Ps.prototype,"lastLabel",void 0),js([E({type:Number})],Ps.prototype,"pagesToDisplay",void 0),js([E({type:Number})],Ps.prototype,"firstLastPagesToDisplay",void 0),Ps=js([o("search-simple-pager")],Ps);var Es=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let Cs=class extends(Xt(mt)){constructor(){super(...arguments),this.required=!0,this.type="select",this.labelText="Sort",this.sorts=[],this.umd_sorts={sort_by:[],order:[],results_per:[],post:!1},this.indexConfigLoaded=!1}updated(t){!this.indexConfigLoaded&&this.context?.responseReady&&(this.indexConfigLoaded=!0,0===this.sorts.length&&this.context.response?.swc_sorts&&(this.sorts=this.context.response?.swc_sorts))}_querySort(t,s,e){const i=new URLSearchParams(this.context?.query?.toString()??"");t&&(i.set("sort",t),i.set("order",s)),e&&i.set("limit",e),t===this.context?.response?.default_sort&&i.delete("sort"),s===this.context?.response?.default_sort_order&&i.delete("order"),this.getResults(i)}_getSelected(){let t=this.context?.query?.get("sort")+"|"+this.context?.query?.get("order");"null|null"===t&&(t=this.context?.response?.default_sort+"|"+this.context?.response?.default_sort_order);let s={label:"Relevance",key:"search_api_relevance",order:"desc"};return this.sorts.find((s=>`${s.key}|${s.order}`===t))&&(s=this.sorts.find((s=>`${s.key}|${s.order}`===t))),s}_getSelectOptions(){const t=this._getSelected(),s=t?.key+"|"+t?.order;return X`${Et(this.sorts,(t=>t.key),(t=>{const e=t.key+"|"+t.order;return X`<option value=${e} ?selected=${e===s}>
          ${t.label}
        </option>`}))}`}_getListOptions(){const t=this._getSelected(),s=t?.key+"|"+t?.order;return X`${Et(this.sorts,(t=>t.key),(t=>{const e=t.key+"|"+t.order;return X`<li>
          <button
            class="${e===s?"selected":null}"
            value=${e}
            @click=${s=>{s.preventDefault(),this._querySort(t.key,t.order)}}
          >
            ${t.label}
          </button>
        </li>`}))}`}_getSelect(){return X`
      ${this.labelText?X`<label for="sort-${this.uid}">${this.labelText}</label>`:null}
      <select
        id="sort-${this.uid}"
        name="sort"
        @change="${t=>{t.preventDefault();const s=t.currentTarget,[e,i]=s.value.split("|");this._querySort(e,i)}}"
        required
      >
        ${this._getSelectOptions()}
      </select>
    `}_getList(){return X`
      ${this.labelText?X`<label for="sort-${this.uid}">${this.labelText}</label>`:null}
      <ul id="sort-${this.uid}">
        ${this._getListOptions()}
      </ul>
    `}_getHtml(){return X`
      ${this._getHtmlLabelElement()}
      <div class="html-dropdown-container">
        ${this._getHtmlSelectLabelElement()} ${this._getHtmlSelectElement()}
      </div>
    `}_sortTemplates(t,s,e){return X`
      <div>
        <label for="${s}-${this.uid}"> ${t} </label>
        <select id="${s}-${this.uid}" name="${s}" required>
          ${e.map((t=>{if(t.includes(":")){const[s,e]=t.split(":");return X`
                <option value="${e}"> ${s} </option>
              `}return X`
                <option value="${t}"> ${t} </option>
              `}))}
        </select>
      </div>
    `}_getCustom(){const t=this.umd_sorts.sort_by,s=this.umd_sorts.order,e=this.umd_sorts.results_per,i=[];return i.push(this._sortTemplates("Sort By","sort_by",t)),i.push(this._sortTemplates("Order","order",s)),i.push(this._sortTemplates("Results Per","results",e)),X`
      ${i}
      <button
        @click=${t=>{t.preventDefault();const s=document.getElementById(`sort_by-${this.uid}`)?.value??"",e=document.getElementById(`order-${this.uid}`)?.value??"",i=document.getElementById(`results-${this.uid}`)?.value??"";this._querySort(s,e,i)}}
      >
        Apply Changes
      </button>
    `}render(){if(0===this.sorts.length||!this.context?.response)return null;switch(this.type){case"select":return this._getSelect();case"list":return this._getList();case"html":return this._getHtml();case"umd-libraries":return this._getCustom()}}getHtmlLabel(){return this.labelText}getOptionKey(t){return`${t.key}-${t.order}`}getOptionValue(t){return`${t.key}|${t.order}`}getOptionLabel(t){return""+t.label}getAllOptions(){return this.sorts}isOptionSelected(t){const s=this._getSelected();return!!s&&this.getOptionValue(s)===this.getOptionValue(t)}hasSelectedOptions(){return!!this._getSelected()}getHtmlSelectLabel(){return this._getSelected()?""+this._getSelected()?.label:this.htmlSelectLabel}optionMouseDown(t,s){t.preventDefault(),this._querySort(s.key,s.order),this.close()}applySelection(t){if(this.focusedOption&&this.focusedOption.dataset.value){const[t,s]=this.focusedOption.dataset.value.split("|");this._querySort(t,s)}}getSelectedOptions(){const t=this._getSelected();return t?[t]:[]}filterOptions(t){return this.getAllOptions().filter((s=>(""+s.label).toLowerCase().startsWith(t)))}};Es([E()],Cs.prototype,"type",void 0),Es([E()],Cs.prototype,"labelText",void 0),Es([E({type:Array})],Cs.prototype,"sorts",void 0),Es([E({type:Object})],Cs.prototype,"umd_sorts",void 0),Es([C()],Cs.prototype,"indexConfigLoaded",void 0),Cs=Es([o("search-sort")],Cs);var As=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let Ts=class extends mt{constructor(){super(...arguments),this.aboveBreakpointText="Filters",this.dialogOpenText="Filters",this.dialogCloseText="Close",this.showAppliedCount=!1,this.showButton=!1}connectedCallback(){super.connectedCallback(),window.addEventListener("resize",(()=>{this._handleResize()}))}disconnectedCallback(){window.removeEventListener("resize",(()=>{this._handleResize()})),super.disconnectedCallback()}updated(t){super.updated(t),this._handleResize()}_handleResize(){this.context?.dialogBreakpoint&&(-1===this.context?.dialogBreakpoint||window.innerWidth<=this.context.dialogBreakpoint)?this.showButton=!0:this.showButton=!1}_getLabelText(){return this.showButton?X`${this.context?.dialogOpen?this.dialogCloseText:this.dialogOpenText}`:X`${this.aboveBreakpointText}`}render(){return void 0!==this.context&&this.context.responseReady?this.showButton?X`
          <button
            class="search-dialog-toggle-button"
            @click=${()=>{if(this.context){const t=this.context;t.dialogOpen=!this.context?.dialogOpen,this.updateContext(t)}}}
          >
            ${this._getLabelText()}
          </button>
        `:X`<div class="search-dialog-toggle-div">
          ${this._getLabelText()}
        </div>`:void 0}};As([E()],Ts.prototype,"aboveBreakpointText",void 0),As([E()],Ts.prototype,"dialogOpenText",void 0),As([E()],Ts.prototype,"dialogCloseText",void 0),As([E()],Ts.prototype,"showAppliedCount",void 0),As([C()],Ts.prototype,"showButton",void 0),Ts=As([o("search-dialog-toggle")],Ts);var Us=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let Ms=class extends mt{constructor(){super(...arguments),this.closeText="Close",this.closePosition="top",this.modal=!1,this.useDialog=!1}connectedCallback(){super.connectedCallback(),window.addEventListener("resize",(()=>{this._handleResize()}))}disconnectedCallback(){window.removeEventListener("resize",(()=>{this._handleResize()})),super.disconnectedCallback()}_handleResize(){this.context?.dialogBreakpoint&&(-1===this.context?.dialogBreakpoint||window.innerWidth<=this.context.dialogBreakpoint)?this.useDialog=!0:this.useDialog=!1}updated(t){super.updated(t),this._handleResize()}_toggleDialog(t,s){"open"===s&&(this.modal?t.showModal():t.show()),"close"===s&&t.close()}_closeDialog(){this.context&&(this.context.dialogOpen=!1,this.updateContext(this.context))}render(){if(!this.context?.responseReady)return null;this.context.dialogOpen?(this.classList.add("search-dialog-pane-visible"),this.classList.remove("search-dialog-pane-hidden")):(this.classList.add("search-dialog-pane-hidden"),this.classList.remove("search-dialog-pane-visible"));const t=this.querySelector(":scope > dialog");if(this.useDialog&&!t){const t=document.createElement("dialog");for(t.addEventListener("cancel",(()=>this._closeDialog())),t.addEventListener("close",(()=>this._closeDialog()));this.children.length>0;)this.firstChild&&t.appendChild(this.firstChild);const s=document.createElement("button");if(s.innerText=this.closeText,s.classList.add("close-button"),"top"===this.closePosition||"both"===this.closePosition){const e=s.cloneNode(!0);e.addEventListener("click",(()=>this._toggleDialog(t,"close"))),e.classList.add("top"),t.prepend(e)}if("bottom"===this.closePosition||"both"===this.closePosition){const e=s.cloneNode(!0);e.addEventListener("click",(()=>this._toggleDialog(t,"close"))),e.classList.add("bottom"),t.append(e)}this.appendChild(t),this.context.dialogOpen?this._toggleDialog(t,"open"):this._toggleDialog(t,"close")}else if(this.useDialog&&t)this.context.dialogOpen?this._toggleDialog(t,"open"):this._toggleDialog(t,"close");else if(!this.useDialog&&t){for(t.querySelectorAll(":scope > .close-button").forEach((s=>{t.removeChild(s)}));t.children.length>0;)t.firstChild&&this.insertBefore(t.firstChild,t);this.removeChild(t),this.context.dialogOpen=!1,this.updateContext(this.context)}return null}};Us([E()],Ms.prototype,"closeText",void 0),Us([E()],Ms.prototype,"closePosition",void 0),Us([E({type:Boolean})],Ms.prototype,"modal",void 0),Us([C()],Ms.prototype,"useDialog",void 0),Ms=Us([o("search-dialog-pane")],Ms);var qs=function(t,s,e,i){for(var n,h=arguments.length,r=h<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,e):i,o=t.length-1;o>=0;o--)(n=t[o])&&(r=(h<3?n(r):h>3?n(s,e,r):n(s,e))||r);return h>3&&r&&Object.defineProperty(s,e,r),r};let Ds=class extends ft{constructor(){super(...arguments),this.queryText=""}async connectedCallback(){super.connectedCallback(),document.addEventListener("update-context",(t=>{this.queryText=decodeURIComponent(t.context.query.toString()),"q="===this.queryText&&(this.queryText=""),this.queryText.startsWith("q=&")&&(this.queryText=this.queryText.replace("q=&",""))}))}render(){return X`
      <button @click="${this._copySearchResults}"}>
        ${this.queryText}
      </button>
    `}_copySearchResults(){navigator.clipboard.writeText(decodeURIComponent(window.location.href+"?"+this.queryText))}};qs([E()],Ds.prototype,"queryText",void 0),Ds=qs([o("search-share")],Ds);var Bs={BaseSearchElement:mt,SearchRoot:yt,FacetButton:Ut,FacetCheckbox:qt,FacetDropdown:Bt,FacetDropdownHtml:ts,SearchAppliedFacets:es,SearchBox:ns,SearchInput:rs,SearchNoResultsMessage:ls,SearchResultElementDefault:cs,SearchResultElementRendered:bs,SearchResultSummary:vs,SearchResults:Ss,SearchResultsPerPage:ks,SearchResultsSwitcher:Rs,SearchSimplePager:Ps,SearchSort:Cs,SearchDialogPane:Ms,SearchDialogToggle:Ts,SearchResultElementUMDLibraries:xs,SearchShare:Ds};export{Bs as default};
